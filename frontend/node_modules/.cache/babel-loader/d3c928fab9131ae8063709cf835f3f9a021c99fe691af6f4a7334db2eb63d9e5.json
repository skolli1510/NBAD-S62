{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kolli sushma\\\\Downloads\\\\S62\\\\frontend\\\\src\\\\components\\\\Reports.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport * as d3 from 'd3';\nimport '../styles/Reports.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Reports = () => {\n  _s();\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const token = localStorage.getItem('token'); // Retrieve the token\n      try {\n        const response = await axios.get('http://localhost:5000/api/solar-generation', {\n          headers: {\n            Authorization: `Bearer ${token}` // Include the token in headers\n          }\n        });\n        setData(response.data);\n        drawChart(response.data);\n      } catch (error) {\n        console.error(\"Error fetching the data:\", error);\n      }\n    };\n    fetchData();\n  }, []);\n  const drawChart = data => {\n    // Clear any previous chart\n    d3.select('#chart').selectAll('*').remove();\n    const width = 600;\n    const height = 400;\n    const radius = Math.min(width, height) / 2;\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\n\n    // Create SVG\n    const svg = d3.select('#chart').append('svg').attr('width', width).attr('height', height).append('g').attr('transform', `translate(${width / 2}, ${height / 2})`);\n    const pie = d3.pie().value(d => d.generation);\n    const arc = d3.arc().innerRadius(0).outerRadius(radius);\n    const outerArc = d3.arc().innerRadius(radius * 1.2).outerRadius(radius * 1.2);\n\n    // Create arcs\n    const arcs = svg.selectAll('.arc').data(pie(data)).enter().append('g').attr('class', 'arc');\n\n    // Draw pie slices\n    arcs.append('path').attr('d', arc).attr('fill', d => color(d.data.state));\n\n    // Draw labels with lines pointing to slices\n    arcs.append('polyline').attr('points', d => {\n      const posA = arc.centroid(d); // Slice center\n      const posB = outerArc.centroid(d); // Label position\n      const posC = [outerArc.centroid(d)[0] + (d.endAngle > Math.PI ? -10 : 10), outerArc.centroid(d)[1]]; // Extended line\n      return [posA, posB, posC];\n    }).style('fill', 'none').style('stroke', 'black').style('stroke-width', '1px').style('opacity', 0.7);\n    arcs.append('text').attr('transform', d => `translate(${outerArc.centroid(d)})`).attr('dy', '.35em').style('text-anchor', d => d.endAngle > Math.PI ? 'end' : 'start').text(d => d.data.state).style('font-size', '0.8rem').style('font-weight', 'bold').style('fill', '#333');\n\n    // Draw legend\n    const legend = svg.append('g').attr('class', 'legend') // Add class for legend styling\n    .attr('transform', `translate(${width / 2 - 100}, ${height / 2 + radius + 20})`);\n    data.forEach((d, i) => {\n      const legendRow = legend.append('g').attr('class', 'legend-row') // Add class for each legend row\n      .attr('transform', `translate(0, ${i * 20})`);\n      legendRow.append('rect').attr('width', 15).attr('height', 15).attr('fill', color(d.state));\n      legendRow.append('text').attr('x', 20).attr('y', 12).text(d.state).style('font-size', '0.9rem').style('color', '#333');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Solar Energy Generation in 2023 by State (GWh)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"This chart displays the solar energy generation in gigawatt-hours (GWh) for various states in the USA during 2023. The data reflects the total solar energy generated in each state, providing insights into the distribution of solar energy resources across the country.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Source: U.S. Energy Information Administration (EIA), Solar Generation Data 2023.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n_s(Reports, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useEffect","useState","axios","d3","jsxDEV","_jsxDEV","Reports","_s","data","setData","fetchData","token","localStorage","getItem","response","get","headers","Authorization","drawChart","error","console","select","selectAll","remove","width","height","radius","Math","min","color","scaleOrdinal","schemeCategory10","svg","append","attr","pie","value","d","generation","arc","innerRadius","outerRadius","outerArc","arcs","enter","state","posA","centroid","posB","posC","endAngle","PI","style","text","legend","forEach","i","legendRow","children","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["C:/Users/kolli sushma/Downloads/S62/frontend/src/components/Reports.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport * as d3 from 'd3';\r\nimport '../styles/Reports.css';\r\n\r\nconst Reports = () => {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const token = localStorage.getItem('token'); // Retrieve the token\r\n      try {\r\n        const response = await axios.get('http://localhost:5000/api/solar-generation', {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`, // Include the token in headers\r\n          },\r\n        });\r\n        setData(response.data);\r\n        drawChart(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching the data:\", error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const drawChart = (data) => {\r\n    // Clear any previous chart\r\n    d3.select('#chart').selectAll('*').remove();\r\n  \r\n    const width = 600;\r\n    const height = 400;\r\n    const radius = Math.min(width, height) / 2;\r\n  \r\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\r\n  \r\n    // Create SVG\r\n    const svg = d3.select('#chart')\r\n      .append('svg')\r\n      .attr('width', width)\r\n      .attr('height', height)\r\n      .append('g')\r\n      .attr('transform', `translate(${width / 2}, ${height / 2})`);\r\n  \r\n    const pie = d3.pie().value(d => d.generation);\r\n    const arc = d3.arc().innerRadius(0).outerRadius(radius);\r\n    const outerArc = d3.arc().innerRadius(radius * 1.2).outerRadius(radius * 1.2);\r\n  \r\n    // Create arcs\r\n    const arcs = svg.selectAll('.arc')\r\n      .data(pie(data))\r\n      .enter().append('g')\r\n      .attr('class', 'arc');\r\n  \r\n    // Draw pie slices\r\n    arcs.append('path')\r\n      .attr('d', arc)\r\n      .attr('fill', d => color(d.data.state));\r\n  \r\n    // Draw labels with lines pointing to slices\r\n    arcs.append('polyline')\r\n      .attr('points', d => {\r\n        const posA = arc.centroid(d); // Slice center\r\n        const posB = outerArc.centroid(d); // Label position\r\n        const posC = [outerArc.centroid(d)[0] + (d.endAngle > Math.PI ? -10 : 10), outerArc.centroid(d)[1]]; // Extended line\r\n        return [posA, posB, posC];\r\n      })\r\n      .style('fill', 'none')\r\n      .style('stroke', 'black')\r\n      .style('stroke-width', '1px')\r\n      .style('opacity', 0.7);\r\n\r\n    arcs.append('text')\r\n      .attr('transform', d => `translate(${outerArc.centroid(d)})`)\r\n      .attr('dy', '.35em')\r\n      .style('text-anchor', d => d.endAngle > Math.PI ? 'end' : 'start')\r\n      .text(d => d.data.state)\r\n      .style('font-size', '0.8rem')\r\n      .style('font-weight', 'bold')\r\n      .style('fill', '#333');\r\n  \r\n    // Draw legend\r\n    const legend = svg.append('g')\r\n      .attr('class', 'legend') // Add class for legend styling\r\n      .attr('transform', `translate(${width / 2 - 100}, ${height / 2 + radius + 20})`);\r\n\r\n    data.forEach((d, i) => {\r\n      const legendRow = legend.append('g')\r\n        .attr('class', 'legend-row') // Add class for each legend row\r\n        .attr('transform', `translate(0, ${i * 20})`);\r\n\r\n      legendRow.append('rect')\r\n        .attr('width', 15)\r\n        .attr('height', 15)\r\n        .attr('fill', color(d.state));\r\n\r\n      legendRow.append('text')\r\n        .attr('x', 20)\r\n        .attr('y', 12)\r\n        .text(d.state)\r\n        .style('font-size', '0.9rem')\r\n        .style('color', '#333');\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Solar Energy Generation in 2023 by State (GWh)</h1>\r\n      <div id=\"chart\"></div>\r\n      <p>This chart displays the solar energy generation in gigawatt-hours (GWh) for various states in the USA during 2023. The data reflects the total solar energy generated in each state, providing insights into the distribution of solar energy resources across the country.</p>\r\n      <p>Source: U.S. Energy Information Administration (EIA), Solar Generation Data 2023.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}